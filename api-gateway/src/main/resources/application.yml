#Okta Configuration for API Gateway
okta:
  oauth2:
    issuer: https://integrator-9957757.okta.com/oauth2/default
    audience: api://default
    client-id: 0oatqzpi5co360ajB697
    client-secret: ruyfeRq5i6gJBah2J5TM0Yr0s-3XIAmzC_w2oaxRAsPdU7HuQq3Ru0n6rVi2lry3
    scopes: openid, profile, email, offline_access

server:
  port: 5000

spring:
  application:
    name: api-gateway-service

  # Spring Security
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: https://integrator-9957757.okta.com/oauth2/default

  cloud:
    gateway:
      routes:
        - id: order-service
          uri: lb://order-service
          predicates:
            - Path=/orders/**

        - id: payment-service
          uri: lb://payment-service
          predicates:
            - Path=/payments/**
      #enables the gateway to route dynamically based on registered service names.
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true

#Add Eureka Server Configuration
eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka
    register-with-eureka: true
    fetch-registry: true


